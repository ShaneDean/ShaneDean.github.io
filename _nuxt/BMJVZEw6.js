import{C,e as A,f as p,D as S,E as b,F as B,G as L,H as N,I as w,J as T,h as x,K as I,B as O,L as U,M as j,N as D,i as E,O as _,P as F,y as V,Q as H}from"./DMsBHW3d.js";async function q(t,a=C()){const{path:s,matched:e}=a.resolve(t);if(!e.length||(a._routePreloaded||(a._routePreloaded=new Set),a._routePreloaded.has(s)))return;const n=a._preloadPromises=a._preloadPromises||[];if(n.length>4)return Promise.all(n).then(()=>q(t,a));a._routePreloaded.add(s);const l=e.map(u=>u.components?.default).filter(u=>typeof u=="function");for(const u of l){const r=Promise.resolve(u()).catch(()=>{}).finally(()=>n.splice(n.indexOf(r)));n.push(r)}await Promise.all(n)}const M=(...t)=>t.find(a=>a!==void 0);function z(t){const a=t.componentName||"NuxtLink";function s(e,n){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return P(e,t.trailingSlash);const l="path"in e&&e.path!==void 0?e.path:n(e).path;return{...e,name:void 0,path:P(l,t.trailingSlash)}}return A({name:a,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(e,{slots:n}){const l=C(),u=E(),r=p(()=>{const i=e.to||e.href||"";return s(i,l.resolve)}),c=p(()=>typeof r.value=="string"&&S(r.value,{acceptRelative:!0})),v=p(()=>e.target&&e.target!=="_self"),h=p(()=>e.external||v.value?!0:typeof r.value=="object"?!1:r.value===""||c.value),y=b(!1),m=b(null),R=i=>{m.value=e.custom?i?.$el?.nextElementSibling:i?.$el};if(e.prefetch!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!$()){const g=_();let f,o=null;B(()=>{const d=Q();L(()=>{f=N(()=>{m?.value?.tagName&&(o=d.observe(m.value,async()=>{o?.(),o=null;const k=typeof r.value=="string"?r.value:l.resolve(r.value).fullPath;await Promise.all([g.hooks.callHook("link:prefetch",k).catch(()=>{}),!h.value&&q(r.value,l).catch(()=>{})]),y.value=!0}))})})}),w(()=>{f&&T(f),o?.(),o=null})}return()=>{if(!h.value){const o={ref:R,to:r.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(y.value&&(o.class=e.prefetchedClass||t.prefetchedClass),o.rel=e.rel||void 0),x(I("RouterLink"),o,n.default)}const i=typeof r.value=="object"?l.resolve(r.value)?.href??null:r.value&&!e.external&&!c.value?s(O(u.app.baseURL,r.value),l.resolve):r.value||null,g=e.target||null,f=M(e.noRel?"":e.rel,t.externalRelAttribute,c.value||v.value?"noopener noreferrer":"")||null;if(e.custom){if(!n.default)return null;const o=()=>F(i,{replace:e.replace,external:e.external});return n.default({href:i,navigate:o,get route(){if(!i)return;const d=U(i);return{path:d.pathname,fullPath:d.pathname,get query(){return j(d.search)},hash:d.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:i}},rel:f,target:g,isExternal:h.value,isActive:!1,isExactActive:!1})}return x("a",{ref:m,href:i,rel:f,target:g},n.default?.())}}})}const J=z(D);function P(t,a){const s=a==="append"?V:H;return S(t)&&!t.startsWith("http")?t:s(t,!0)}function Q(){const t=_();if(t._observer)return t._observer;let a=null;const s=new Map,e=(l,u)=>(a||(a=new IntersectionObserver(r=>{for(const c of r){const v=s.get(c.target);(c.isIntersecting||c.intersectionRatio>0)&&v&&v()}})),s.set(l,u),a.observe(l),()=>{s.delete(l),a.unobserve(l),s.size===0&&(a.disconnect(),a=null)});return t._observer={observe:e}}function $(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}export{J as _};
