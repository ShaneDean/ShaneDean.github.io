{"_path":"/blog/linux/autoconf_automake","_dir":"linux","_draft":false,"_partial":false,"_locale":"","title":"autoconf 和 automake","description":"只使用autoconf来构建","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"autoconf-和-automake"},"children":[{"type":"text","value":"autoconf 和 automake"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只使用autoconf来构建"}]},{"type":"element","tag":"pre","props":{"code":"your source files --> [autoscan*] --> [configure.scan] --> configure.ac\n \n configure.ac --.\n                |   .------> autoconf* -----> configure\n [aclocal.m4] --+---+\n                |   `-----> [autoheader*] --> [config.h.in]\n [acsite.m4] ---'\n \n Makefile.in\n \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"your source files --> [autoscan*] --> [configure.scan] --> configure.ac\n \n configure.ac --.\n                |   .------> autoconf* -----> configure\n [aclocal.m4] --+---+\n                |   `-----> [autoheader*] --> [config.h.in]\n [acsite.m4] ---'\n \n Makefile.in\n \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果增加使用automake来构建"}]},{"type":"element","tag":"pre","props":{"code":" [acinclude.m4] --.\n                  |\n [local macros] --+--> aclocal* --> aclocal.m4\n                  |\n configure.ac ----'\n \n configure.ac --.\n                +--> automake* --> Makefile.in\n Makefile.am ---'\n \n \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":" [acinclude.m4] --.\n                  |\n [local macros] --+--> aclocal* --> aclocal.m4\n                  |\n configure.ac ----'\n \n configure.ac --.\n                +--> automake* --> Makefile.in\n Makefile.am ---'\n \n \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用到配置软件包中的文件"}]},{"type":"element","tag":"pre","props":{"code":"图：\n                        .-------------> [config.cache]\n configure* ------------+-------------> config.log\n                        |\n [config.h.in] -.       v            .-> [config.h] -.\n                +--> config.status* -+               +--> make*\n Makefile.in ---'                    `-> Makefile ---'\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"图：\n                        .-------------> [config.cache]\n configure* ------------+-------------> config.log\n                        |\n [config.h.in] -.       v            .-> [config.h] -.\n                +--> config.status* -+               +--> make*\n Makefile.in ---'                    `-> Makefile ---'\n"}]}]},{"type":"element","tag":"h1","props":{"id":"automake"},"children":[{"type":"text","value":"automake"}]},{"type":"element","tag":"h2","props":{"id":"标准的makefile目标"},"children":[{"type":"text","value":"标准的makefile目标"}]},{"type":"element","tag":"pre","props":{"code":"all         默认执行的目标，编译文件\ninstall     安装文件，兵拷贝包内文件\ninstall-trip    没有调试信息的install\nuninstall   卸载文件\nclean       清空 make all的文件\ndistclean   在clean的基础上再清除 ./configure创建的文件\ncheck       跑测试套件\ninstallcheck     检查已安装的程序或库文件\ndist        用源码重新创建package-version.tar.gz文件\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"all         默认执行的目标，编译文件\ninstall     安装文件，兵拷贝包内文件\ninstall-trip    没有调试信息的install\nuninstall   卸载文件\nclean       清空 make all的文件\ndistclean   在clean的基础上再清除 ./configure创建的文件\ncheck       跑测试套件\ninstallcheck     检查已安装的程序或库文件\ndist        用源码重新创建package-version.tar.gz文件\n"}]}]},{"type":"element","tag":"h2","props":{"id":"标准的安装步骤"},"children":[{"type":"text","value":"标准的安装步骤"}]},{"type":"element","tag":"pre","props":{"code":"./configure \nmake\nmake install\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./configure \nmake\nmake install\n"}]}]},{"type":"element","tag":"h2","props":{"id":"标准目录变量"},"children":[{"type":"text","value":"标准目录变量"}]},{"type":"element","tag":"pre","props":{"code":"prefix          /usr/local\nbindir          ${prefix}/bin\nlibdir          ${prefix}/lib\nincludedir      ${prefix}/include\ndatarootdir     ${prefix}/share\nmandir          ${datarootdir}/man\ninfodir         ${datarootdir}/info\ndocdir          ${datarootdir}/doc/${PACKAGE}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"prefix          /usr/local\nbindir          ${prefix}/bin\nlibdir          ${prefix}/lib\nincludedir      ${prefix}/include\ndatarootdir     ${prefix}/share\nmandir          ${datarootdir}/man\ninfodir         ${datarootdir}/info\ndocdir          ${datarootdir}/doc/${PACKAGE}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"标准配置变量"},"children":[{"type":"text","value":"标准配置变量"}]},{"type":"element","tag":"pre","props":{"code":"CC              c编译器的命令\nCFLAGS          c编译器的参数\nCXX             c++编译器命令\nCXXFLAGS        c++编译器参数\nLDFLAGS         链接器的参数\nCPPFLAGS        c/c++预处理器参数\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"CC              c编译器的命令\nCFLAGS          c编译器的参数\nCXX             c++编译器命令\nCXXFLAGS        c++编译器参数\nLDFLAGS         链接器的参数\nCPPFLAGS        c/c++预处理器参数\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"标准的makefile目标","depth":2,"text":"标准的makefile目标"},{"id":"标准的安装步骤","depth":2,"text":"标准的安装步骤"},{"id":"标准目录变量","depth":2,"text":"标准目录变量"},{"id":"标准配置变量","depth":2,"text":"标准配置变量"}]}},"_type":"markdown","_id":"content:blog:linux:autoconf_automake.md","_source":"content","_file":"blog/linux/autoconf_automake.md","_extension":"md"}