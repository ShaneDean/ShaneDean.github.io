[{"data":1,"prerenderedAt":132},["Reactive",2],{"content-query-9OCtkuEvzV":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":127,"_id":128,"_source":129,"_file":130,"_extension":131},"/blog/linux/autoconf_automake","linux",false,"","autoconf 和 automake","只使用autoconf来构建",{"type":11,"children":12,"toc":120},"root",[13,21,26,36,41,49,54,62,67,73,81,86,94,99,107,112],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"autoconf-和-automake",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25],{"type":20,"value":9},{"type":14,"tag":27,"props":28,"children":30},"pre",{"code":29},"your source files --> [autoscan*] --> [configure.scan] --> configure.ac\n \n configure.ac --.\n                |   .------> autoconf* -----> configure\n [aclocal.m4] --+---+\n                |   `-----> [autoheader*] --> [config.h.in]\n [acsite.m4] ---'\n \n Makefile.in\n \n",[31],{"type":14,"tag":32,"props":33,"children":34},"code",{"__ignoreMap":7},[35],{"type":20,"value":29},{"type":14,"tag":22,"props":37,"children":38},{},[39],{"type":20,"value":40},"如果增加使用automake来构建",{"type":14,"tag":27,"props":42,"children":44},{"code":43}," [acinclude.m4] --.\n                  |\n [local macros] --+--> aclocal* --> aclocal.m4\n                  |\n configure.ac ----'\n \n configure.ac --.\n                +--> automake* --> Makefile.in\n Makefile.am ---'\n \n \n",[45],{"type":14,"tag":32,"props":46,"children":47},{"__ignoreMap":7},[48],{"type":20,"value":43},{"type":14,"tag":22,"props":50,"children":51},{},[52],{"type":20,"value":53},"用到配置软件包中的文件",{"type":14,"tag":27,"props":55,"children":57},{"code":56},"图：\n                        .-------------> [config.cache]\n configure* ------------+-------------> config.log\n                        |\n [config.h.in] -.       v            .-> [config.h] -.\n                +--> config.status* -+               +--> make*\n Makefile.in ---'                    `-> Makefile ---'\n",[58],{"type":14,"tag":32,"props":59,"children":60},{"__ignoreMap":7},[61],{"type":20,"value":56},{"type":14,"tag":15,"props":63,"children":65},{"id":64},"automake",[66],{"type":20,"value":64},{"type":14,"tag":68,"props":69,"children":71},"h2",{"id":70},"标准的makefile目标",[72],{"type":20,"value":70},{"type":14,"tag":27,"props":74,"children":76},{"code":75},"all         默认执行的目标，编译文件\ninstall     安装文件，兵拷贝包内文件\ninstall-trip    没有调试信息的install\nuninstall   卸载文件\nclean       清空 make all的文件\ndistclean   在clean的基础上再清除 ./configure创建的文件\ncheck       跑测试套件\ninstallcheck     检查已安装的程序或库文件\ndist        用源码重新创建package-version.tar.gz文件\n",[77],{"type":14,"tag":32,"props":78,"children":79},{"__ignoreMap":7},[80],{"type":20,"value":75},{"type":14,"tag":68,"props":82,"children":84},{"id":83},"标准的安装步骤",[85],{"type":20,"value":83},{"type":14,"tag":27,"props":87,"children":89},{"code":88},"./configure \nmake\nmake install\n",[90],{"type":14,"tag":32,"props":91,"children":92},{"__ignoreMap":7},[93],{"type":20,"value":88},{"type":14,"tag":68,"props":95,"children":97},{"id":96},"标准目录变量",[98],{"type":20,"value":96},{"type":14,"tag":27,"props":100,"children":102},{"code":101},"prefix          /usr/local\nbindir          ${prefix}/bin\nlibdir          ${prefix}/lib\nincludedir      ${prefix}/include\ndatarootdir     ${prefix}/share\nmandir          ${datarootdir}/man\ninfodir         ${datarootdir}/info\ndocdir          ${datarootdir}/doc/${PACKAGE}\n",[103],{"type":14,"tag":32,"props":104,"children":105},{"__ignoreMap":7},[106],{"type":20,"value":101},{"type":14,"tag":68,"props":108,"children":110},{"id":109},"标准配置变量",[111],{"type":20,"value":109},{"type":14,"tag":27,"props":113,"children":115},{"code":114},"CC              c编译器的命令\nCFLAGS          c编译器的参数\nCXX             c++编译器命令\nCXXFLAGS        c++编译器参数\nLDFLAGS         链接器的参数\nCPPFLAGS        c/c++预处理器参数\n",[116],{"type":14,"tag":32,"props":117,"children":118},{"__ignoreMap":7},[119],{"type":20,"value":114},{"title":7,"searchDepth":121,"depth":121,"links":122},2,[123,124,125,126],{"id":70,"depth":121,"text":70},{"id":83,"depth":121,"text":83},{"id":96,"depth":121,"text":96},{"id":109,"depth":121,"text":109},"markdown","content:blog:linux:autoconf_automake.md","content","blog/linux/autoconf_automake.md","md",1718158598644]