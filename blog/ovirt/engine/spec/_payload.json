[{"data":1,"prerenderedAt":963},["Reactive",2],{"content-query-NjMce1fm6R":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":7,"body":9,"_type":958,"_id":959,"_source":960,"_file":961,"_extension":962},"/blog/ovirt/engine/spec","engine",false,"","ovirt-engine spec",{"type":10,"children":11,"toc":944},"root",[12,20,26,32,46,56,66,71,76,81,86,126,131,141,146,153,158,166,177,182,276,282,287,330,336,341,354,359,372,377,385,390,395,409,447,452,457,462,467,472,477,642,659,667,672,680,685,693,698,706,712,717,722,745,750,883,889,894,927,931,936],{"type":13,"tag":14,"props":15,"children":17},"element","h1",{"id":16},"ovirt-engine-spec",[18],{"type":19,"value":8},"text",{"type":13,"tag":21,"props":22,"children":24},"h2",{"id":23},"前言",[25],{"type":19,"value":23},{"type":13,"tag":27,"props":28,"children":29},"p",{},[30],{"type":19,"value":31},"以 ovirt-enigne-4.3为例，分析engine是如何打包成 rpm 的。",{"type":13,"tag":27,"props":33,"children":34},{},[35,44],{"type":13,"tag":36,"props":37,"children":41},"a",{"href":38,"rel":39},"https://rpm.org/user_doc/macros.html",[40],"nofollow",[42],{"type":19,"value":43},"spec-macro",{"type":19,"value":45},",",{"type":13,"tag":27,"props":47,"children":48},{},[49],{"type":13,"tag":36,"props":50,"children":53},{"href":51,"rel":52},"https://rpm-packaging-guide.github.io/",[40],[54],{"type":19,"value":55},"rpm-package-guide",{"type":13,"tag":27,"props":57,"children":58},{},[59],{"type":13,"tag":36,"props":60,"children":63},{"href":61,"rel":62},"http://ftp.rpm.org/max-rpm/index.html",[40],[64],{"type":19,"value":65},"maximum-rpm",{"type":13,"tag":21,"props":67,"children":69},{"id":68},"rpm",[70],{"type":19,"value":68},{"type":13,"tag":21,"props":72,"children":74},{"id":73},"spec",[75],{"type":19,"value":73},{"type":13,"tag":27,"props":77,"children":78},{},[79],{"type":19,"value":80},"spec 文件是rpmbuild的工作手册，手册里面定义了构建系统在各个阶段中执行的命令。",{"type":13,"tag":27,"props":82,"children":83},{},[84],{"type":19,"value":85},"spec文件由不同的条目组成，具体如下：",{"type":13,"tag":87,"props":88,"children":89},"ul",{},[90,96,101,106,111,116,121],{"type":13,"tag":91,"props":92,"children":93},"li",{},[94],{"type":19,"value":95},"注释    comments    人类阅读使用，rpm会忽略",{"type":13,"tag":91,"props":97,"children":98},{},[99],{"type":19,"value":100},"标签    tags        定义数据",{"type":13,"tag":91,"props":102,"children":103},{},[104],{"type":19,"value":105},"脚本    scripts     包含了特定时间执行的命令",{"type":13,"tag":91,"props":107,"children":108},{},[109],{"type":19,"value":110},"宏      macros",{"type":13,"tag":91,"props":112,"children":113},{},[114],{"type":19,"value":115},"%files列表          pkg需要包含的文件列表",{"type":13,"tag":91,"props":117,"children":118},{},[119],{"type":19,"value":120},"指令    directives  处理%files列表的方式",{"type":13,"tag":91,"props":122,"children":123},{},[124],{"type":19,"value":125},"条件    conditionals    执行系统、架构相关的预处理工作",{"type":13,"tag":27,"props":127,"children":128},{},[129],{"type":19,"value":130},"注释：",{"type":13,"tag":132,"props":133,"children":135},"pre",{"code":134},"# 后面的内容\n",[136],{"type":13,"tag":137,"props":138,"children":139},"code",{"__ignoreMap":7},[140],{"type":19,"value":134},{"type":13,"tag":27,"props":142,"children":143},{},[144],{"type":19,"value":145},"注释也可以展开 但需要使用%%进行转义",{"type":13,"tag":147,"props":148,"children":150},"h3",{"id":149},"标签-tags",[151],{"type":19,"value":152},"标签 tags",{"type":13,"tag":27,"props":154,"children":155},{},[156],{"type":19,"value":157},"格式",{"type":13,"tag":132,"props":159,"children":161},{"code":160},"\u003Csomething>:\u003Csomething-else>\n",[162],{"type":13,"tag":137,"props":163,"children":164},{"__ignoreMap":7},[165],{"type":19,"value":160},{"type":13,"tag":27,"props":167,"children":168},{},[169,175],{"type":13,"tag":170,"props":171,"children":172},"strong",{},[173],{"type":19,"value":174},"somethin",{"type":19,"value":176}," 大小写、距离 都不敏感",{"type":13,"tag":27,"props":178,"children":179},{},[180],{"type":19,"value":181},"内置：",{"type":13,"tag":87,"props":183,"children":184},{},[185,253],{"type":13,"tag":91,"props":186,"children":187},{},[188,190],{"type":19,"value":189},"Preamble    变量，Package Naming Tags\n",{"type":13,"tag":87,"props":191,"children":192},{},[193,198,203,208,213,218,223,228,233,238,243,248],{"type":13,"tag":91,"props":194,"children":195},{},[196],{"type":19,"value":197},"Name        包名",{"type":13,"tag":91,"props":199,"children":200},{},[201],{"type":19,"value":202},"Version     包版本",{"type":13,"tag":91,"props":204,"children":205},{},[206],{"type":19,"value":207},"Release     发布次数，每次发布递增，新版本产生式时重置为1，1%{?dist}",{"type":13,"tag":91,"props":209,"children":210},{},[211],{"type":19,"value":212},"Summary",{"type":13,"tag":91,"props":214,"children":215},{},[216],{"type":19,"value":217},"License     license版权",{"type":13,"tag":91,"props":219,"children":220},{},[221],{"type":19,"value":222},"URL",{"type":13,"tag":91,"props":224,"children":225},{},[226],{"type":19,"value":227},"Source0     上游的源代码，应当是远程可靠的访问地址",{"type":13,"tag":91,"props":229,"children":230},{},[231],{"type":19,"value":232},"Patch0      上游补丁，应当是远程可靠的访问地址",{"type":13,"tag":91,"props":234,"children":235},{},[236],{"type":19,"value":237},"BuildArch   如果pkg架构无关，则为noarch，如果相关则为架构缩写",{"type":13,"tag":91,"props":239,"children":240},{},[241],{"type":19,"value":242},"BuildRequires   构建依赖",{"type":13,"tag":91,"props":244,"children":245},{},[246],{"type":19,"value":247},"Requires    运行依赖",{"type":13,"tag":91,"props":249,"children":250},{},[251],{"type":19,"value":252},"ExcludeArch 不支持架构",{"type":13,"tag":91,"props":254,"children":255},{},[256,258],{"type":19,"value":257},"Body        指令集合， Descriptive Tags\n",{"type":13,"tag":87,"props":259,"children":260},{},[261,266,271],{"type":13,"tag":91,"props":262,"children":263},{},[264],{"type":19,"value":265},"%description    包描述内容",{"type":13,"tag":91,"props":267,"children":268},{},[269],{"type":19,"value":270},"%files          会被install的文件列表",{"type":13,"tag":91,"props":272,"children":273},{},[274],{"type":19,"value":275},"%changelog      发型记录",{"type":13,"tag":147,"props":277,"children":279},{"id":278},"脚本-script",[280],{"type":19,"value":281},"脚本 script",{"type":13,"tag":27,"props":283,"children":284},{},[285],{"type":19,"value":286},"分类",{"type":13,"tag":87,"props":288,"children":289},{},[290,295,300,305,310,315,320,325],{"type":13,"tag":91,"props":291,"children":292},{},[293],{"type":19,"value":294},"%prep           一系列命令来准备软件的构建环境",{"type":13,"tag":91,"props":296,"children":297},{},[298],{"type":19,"value":299},"%build          一系列命令来执行软件的构建",{"type":13,"tag":91,"props":301,"children":302},{},[303],{"type":19,"value":304},"%install        一系列命令来完成从%builddir到%buildroot目录的拷贝 （这里只有在创建pkg的时候，不是实际的用户环境的安装过程）",{"type":13,"tag":91,"props":306,"children":307},{},[308],{"type":19,"value":309},"%check          一些列命令来测试软件，比如包括 unit test case",{"type":13,"tag":91,"props":311,"children":312},{},[313],{"type":19,"value":314},"%pre            在安装pkg之前执行",{"type":13,"tag":91,"props":316,"children":317},{},[318],{"type":19,"value":319},"%post           在安装pkg之后执行",{"type":13,"tag":91,"props":321,"children":322},{},[323],{"type":19,"value":324},"%preun          在卸载pkg之前执行",{"type":13,"tag":91,"props":326,"children":327},{},[328],{"type":19,"value":329},"%postun         在卸载pkg之后执行",{"type":13,"tag":147,"props":331,"children":333},{"id":332},"宏-macro",[334],{"type":19,"value":335},"宏 macro",{"type":13,"tag":27,"props":337,"children":338},{},[339],{"type":19,"value":340},"spec内置2个简单的宏来执行特定的任务",{"type":13,"tag":87,"props":342,"children":343},{},[344,349],{"type":13,"tag":91,"props":345,"children":346},{},[347],{"type":19,"value":348},"%setup      用来解压源代码，需要SOURCE",{"type":13,"tag":91,"props":350,"children":351},{},[352],{"type":19,"value":353},"%patch      用来给代码打补丁, 需要PATCH",{"type":13,"tag":27,"props":355,"children":356},{},[357],{"type":19,"value":358},"同时用户可以自己定义宏， 包含两种宏。",{"type":13,"tag":87,"props":360,"children":361},{},[362,367],{"type":13,"tag":91,"props":363,"children":364},{},[365],{"type":19,"value":366},"Simple Macros : 直接的文本替换",{"type":13,"tag":91,"props":368,"children":369},{},[370],{"type":19,"value":371},"Parameterized Macros ： 包含选项字段，将下一行用空格分隔的字段设为args",{"type":13,"tag":27,"props":373,"children":374},{},[375],{"type":19,"value":376},"定义",{"type":13,"tag":132,"props":378,"children":380},{"code":379},"%define \u003Cname>[(opts)] \u003Cbody>\n",[381],{"type":13,"tag":137,"props":382,"children":383},{"__ignoreMap":7},[384],{"type":19,"value":379},{"type":13,"tag":27,"props":386,"children":387},{},[388],{"type":19,"value":389},"包围body的空格都会被移除。 name 可以是字母数字和_组成，长度最少是3个字符。",{"type":13,"tag":27,"props":391,"children":392},{},[393],{"type":19,"value":394},"如果没有opts,macro只执行展开操作。",{"type":13,"tag":27,"props":396,"children":397},{},[398,400,407],{"type":19,"value":399},"如果opts中有参数的话，它的处理方式是",{"type":13,"tag":36,"props":401,"children":404},{"href":402,"rel":403},"https://linux.die.net/man/3/getopt",[40],[405],{"type":19,"value":406},"getopt",{"type":19,"value":408},"。宏中的可用变量是：",{"type":13,"tag":87,"props":410,"children":411},{},[412,417,422,427,432,437,442],{"type":13,"tag":91,"props":413,"children":414},{},[415],{"type":19,"value":416},"%0      被调用宏的名称",{"type":13,"tag":91,"props":418,"children":419},{},[420],{"type":19,"value":421},"%*      所有参数，不包括处理标志",{"type":13,"tag":91,"props":423,"children":424},{},[425],{"type":19,"value":426},"%**     所有参数，包括处理标志",{"type":13,"tag":91,"props":428,"children":429},{},[430],{"type":19,"value":431},"%#      参数数量",{"type":13,"tag":91,"props":433,"children":434},{},[435],{"type":19,"value":436},"%{-f}   调用出现时,标志f的本身",{"type":13,"tag":91,"props":438,"children":439},{},[440],{"type":19,"value":441},"%{-f*}  调用出现时,标志f指向的参数",{"type":13,"tag":91,"props":443,"children":444},{},[445],{"type":19,"value":446},"%1, %2  参数本身",{"type":13,"tag":27,"props":448,"children":449},{},[450],{"type":19,"value":451},"无参数宏的情况下上面的变量都会废弃。",{"type":13,"tag":27,"props":453,"children":454},{},[455],{"type":19,"value":456},"%{flag} 取flag",{"type":13,"tag":27,"props":458,"children":459},{},[460],{"type":19,"value":461},"%{?flag:X} 如果flag出现则为falg,不出现则为X",{"type":13,"tag":27,"props":463,"children":464},{},[465],{"type":19,"value":466},"%{!?flag:X} 和上面相反",{"type":13,"tag":27,"props":468,"children":469},{},[470],{"type":19,"value":471},"%(shell command) 执行结果即输出 ， 如%(date +%%y%%m%%d) ，这里的%%转义为命令执行中的% 避免再次展开",{"type":13,"tag":27,"props":473,"children":474},{},[475],{"type":19,"value":476},"下面是可用来执行内嵌宏",{"type":13,"tag":87,"props":478,"children":479},{},[480,485,490,495,500,505,510,515,520,525,530,535,540,545,550,555,560,572,584,589,594,606,611,622,632],{"type":13,"tag":91,"props":481,"children":482},{},[483],{"type":19,"value":484},"%trace          打印扩展前后的调试信息",{"type":13,"tag":91,"props":486,"children":487},{},[488],{"type":19,"value":489},"%dump           打印可用宏列表",{"type":13,"tag":91,"props":491,"children":492},{},[493],{"type":19,"value":494},"%getncpus       可用cpu数量",{"type":13,"tag":91,"props":496,"children":497},{},[498],{"type":19,"value":499},"%dnl            放弃下一行，不展开(>=4.15.0)",{"type":13,"tag":91,"props":501,"children":502},{},[503],{"type":19,"value":504},"%{echo:...}     打印到stdout",{"type":13,"tag":91,"props":506,"children":507},{},[508],{"type":19,"value":509},"%{warn:...}     打印到stderr",{"type":13,"tag":91,"props":511,"children":512},{},[513],{"type":19,"value":514},"%{error:...}    打印到stderr，并报错",{"type":13,"tag":91,"props":516,"children":517},{},[518],{"type":19,"value":519},"%define ...     定义宏，lazy展开",{"type":13,"tag":91,"props":521,"children":522},{},[523],{"type":19,"value":524},"%undefine ...   取消宏定义",{"type":13,"tag":91,"props":526,"children":527},{},[528],{"type":19,"value":529},"%global ...     定义全局可用宏 ， eager展开",{"type":13,"tag":91,"props":531,"children":532},{},[533],{"type":19,"value":534},"%{load:...}     加载宏文件(>=4.12.0)",{"type":13,"tag":91,"props":536,"children":537},{},[538],{"type":19,"value":539},"%{expand:...}   再次展开",{"type":13,"tag":91,"props":541,"children":542},{},[543],{"type":19,"value":544},"%{shrink:...}   消除环绕的空格成一个空格(>=4.14.0)",{"type":13,"tag":91,"props":546,"children":547},{},[548],{"type":19,"value":549},"%{quote:...}    引用一个参数宏作为参数，传递空字符或由空格分隔的字符串",{"type":13,"tag":91,"props":551,"children":552},{},[553],{"type":19,"value":554},"%{lua:...}      用lua来展开",{"type":13,"tag":91,"props":556,"children":557},{},[558],{"type":19,"value":559},"%{uncompress:...}   用文件方式展开，并检查文件是否压缩，支持未压缩、gzip、bzip3种",{"type":13,"tag":91,"props":561,"children":562},{},[563,565],{"type":19,"value":564},"%{basename:...} ",{"type":13,"tag":36,"props":566,"children":569},{"href":567,"rel":568},"http://man7.org/linux/man-pages/man1/basename.1.html",[40],[570],{"type":19,"value":571},"basename",{"type":13,"tag":91,"props":573,"children":574},{},[575,577],{"type":19,"value":576},"${dirname:...}  ",{"type":13,"tag":36,"props":578,"children":581},{"href":579,"rel":580},"http://man7.org/linux/man-pages/man1/dirname.1.html",[40],[582],{"type":19,"value":583},"dirname",{"type":13,"tag":91,"props":585,"children":586},{},[587],{"type":19,"value":588},"%{suffix:...}    expand to suffix part of a file name",{"type":13,"tag":91,"props":590,"children":591},{},[592],{"type":19,"value":593},"%{url2path:...} 转换url为本地路径",{"type":13,"tag":91,"props":595,"children":596},{},[597,599],{"type":19,"value":598},"%{getenv:...}   ",{"type":13,"tag":36,"props":600,"children":603},{"href":601,"rel":602},"http://man7.org/linux/man-pages/man3/getenv.3.html",[40],[604],{"type":19,"value":605},"getenv",{"type":13,"tag":91,"props":607,"children":608},{},[609],{"type":19,"value":610},"%{getconfdir:...}   rpm的home目录",{"type":13,"tag":91,"props":612,"children":613},{},[614,616,620],{"type":19,"value":615},"%{S:...}        expand ... to ",{"type":13,"tag":617,"props":618,"children":619},"source",{},[],{"type":19,"value":621}," file name",{"type":13,"tag":91,"props":623,"children":624},{},[625,627],{"type":19,"value":626},"%{P:...}        expand ... to ",{"type":13,"tag":628,"props":629,"children":630},"patch",{},[631],{"type":19,"value":621},{"type":13,"tag":91,"props":633,"children":634},{},[635,637],{"type":19,"value":636},"%{F:...}        expand ... to ",{"type":13,"tag":638,"props":639,"children":640},"file",{},[641],{"type":19,"value":621},{"type":13,"tag":27,"props":643,"children":644},{},[645,647,652,654],{"type":19,"value":646},"默认变量地址 ",{"type":13,"tag":170,"props":648,"children":649},{},[650],{"type":19,"value":651},"/usr/lib/rpm/macros",{"type":19,"value":653},"   ",{"type":13,"tag":170,"props":655,"children":656},{},[657],{"type":19,"value":658},"/etc/rpm/",{"type":13,"tag":132,"props":660,"children":662},{"code":661},"rpm --eval '\u003Cmacro expression>'   # 查看宏\n\n",[663],{"type":13,"tag":137,"props":664,"children":665},{"__ignoreMap":7},[666],{"type":19,"value":661},{"type":13,"tag":27,"props":668,"children":669},{},[670],{"type":19,"value":671},"使用宏",{"type":13,"tag":132,"props":673,"children":675},{"code":674},"%{\u003Cname>}       #直接展开成txt\n%\u003Cname> ...     #如果有参数则进行调用\n",[676],{"type":13,"tag":137,"props":677,"children":678},{"__ignoreMap":7},[679],{"type":19,"value":674},{"type":13,"tag":27,"props":681,"children":682},{},[683],{"type":19,"value":684},"eg",{"type":13,"tag":132,"props":686,"children":688},{"code":687},"%define mymacro() (echo -n \"My arg is %1\" ; sleep %1 ; echo done.)\n%mymacro 5\n(echo -n \"My arg is 5\" ; sleep 5 ; echo done.)\n",[689],{"type":13,"tag":137,"props":690,"children":691},{"__ignoreMap":7},[692],{"type":19,"value":687},{"type":13,"tag":27,"props":694,"children":695},{},[696],{"type":19,"value":697},"autoconf中的宏变量",{"type":13,"tag":132,"props":699,"children":701},{"code":700},"    %_prefix            /usr\n    %_exec_prefix       %{_prefix}\n    %_bindir            %{_exec_prefix}/bin\n    %_sbindir           %{_exec_prefix}/sbin\n    %_libexecdir        %{_exec_prefix}/libexec\n    %_datadir           %{_prefix}/share\n    %_sysconfdir        %{_prefix}/etc\n    %_sharedstatedir    %{_prefix}/com\n    %_localstatedir     %{_prefix}/vars\n    %_libdir            %{_exec_prefix}/lib\n    %_includedir        %{_prefix}/include\n    %_oldincludedir     /usr/include\n    %_infodir           %{_prefix}/info\n    %_mandir            %{_prefix}/man\n",[702],{"type":13,"tag":137,"props":703,"children":704},{"__ignoreMap":7},[705],{"type":19,"value":700},{"type":13,"tag":147,"props":707,"children":709},{"id":708},"files",[710],{"type":19,"value":711},"%files",{"type":13,"tag":27,"props":713,"children":714},{},[715],{"type":19,"value":716},"指向需要在构建系统中打包进rpm中的文件列表。 这些文件都会被作为参数执行2次，第一次是构建系统的路径，第二次是安装到目标系统的路径",{"type":13,"tag":27,"props":718,"children":719},{},[720],{"type":19,"value":721},"%files包含了一些可用的指令",{"type":13,"tag":87,"props":723,"children":724},{},[725,730,735,740],{"type":13,"tag":91,"props":726,"children":727},{},[728],{"type":19,"value":729},"明确配置文件、文档",{"type":13,"tag":91,"props":731,"children":732},{},[733],{"type":19,"value":734},"检查文件的权限",{"type":13,"tag":91,"props":736,"children":737},{},[738],{"type":19,"value":739},"控制pkg验证阶段的文件需要被检查的方面",{"type":13,"tag":91,"props":741,"children":742},{},[743],{"type":19,"value":744},"消除一些创建%files列表时候的繁琐工作",{"type":13,"tag":27,"props":746,"children":747},{},[748],{"type":19,"value":749},"具体包括",{"type":13,"tag":87,"props":751,"children":752},{},[753,774,797,802,807,812,817,822,832],{"type":13,"tag":91,"props":754,"children":755},{},[756,758],{"type":19,"value":757},"%attr   (",{"type":13,"tag":759,"props":760,"children":761},"mode",{},[762,763],{"type":19,"value":45},{"type":13,"tag":764,"props":765,"children":766},"user",{},[767,768],{"type":19,"value":45},{"type":13,"tag":769,"props":770,"children":771},"group",{},[772],{"type":19,"value":773},")",{"type":13,"tag":91,"props":775,"children":776},{},[777,779],{"type":19,"value":778},"%defattr (",{"type":13,"tag":780,"props":781,"children":782},"file-mode",{},[783,784],{"type":19,"value":45},{"type":13,"tag":764,"props":785,"children":786},{},[787,788],{"type":19,"value":45},{"type":13,"tag":769,"props":789,"children":790},{},[791,792],{"type":19,"value":45},{"type":13,"tag":793,"props":794,"children":795},"dir-mode",{},[796],{"type":19,"value":773},{"type":13,"tag":91,"props":798,"children":799},{},[800],{"type":19,"value":801},"%doc",{"type":13,"tag":91,"props":803,"children":804},{},[805],{"type":19,"value":806},"%config",{"type":13,"tag":91,"props":808,"children":809},{},[810],{"type":19,"value":811},"%ghost  rpm知道但不在pkg的文件，如log",{"type":13,"tag":91,"props":813,"children":814},{},[815],{"type":19,"value":816},"%docdir",{"type":13,"tag":91,"props":818,"children":819},{},[820],{"type":19,"value":821},"%dir    指定目录下的所有信息都属于pkg，不用衍生的打印目录下的信息",{"type":13,"tag":91,"props":823,"children":824},{},[825,827],{"type":19,"value":826},"-f ",{"type":13,"tag":638,"props":828,"children":829},{},[830],{"type":19,"value":831},"   文件中的每一行都是文件路径",{"type":13,"tag":91,"props":833,"children":834},{},[835,837],{"type":19,"value":836},"%verify     验证特殊的文件，如设备文件\n",{"type":13,"tag":87,"props":838,"children":839},{},[840,845,849,853,858,863,868,873,878],{"type":13,"tag":91,"props":841,"children":842},{},[843],{"type":19,"value":844},"owner",{"type":13,"tag":91,"props":846,"children":847},{},[848],{"type":19,"value":769},{"type":13,"tag":91,"props":850,"children":851},{},[852],{"type":19,"value":759},{"type":13,"tag":91,"props":854,"children":855},{},[856],{"type":19,"value":857},"md5",{"type":13,"tag":91,"props":859,"children":860},{},[861],{"type":19,"value":862},"size",{"type":13,"tag":91,"props":864,"children":865},{},[866],{"type":19,"value":867},"maj",{"type":13,"tag":91,"props":869,"children":870},{},[871],{"type":19,"value":872},"min",{"type":13,"tag":91,"props":874,"children":875},{},[876],{"type":19,"value":877},"symlink",{"type":13,"tag":91,"props":879,"children":880},{},[881],{"type":19,"value":882},"mtime",{"type":13,"tag":147,"props":884,"children":886},{"id":885},"条件-conditionals",[887],{"type":19,"value":888},"条件 conditionals",{"type":13,"tag":27,"props":890,"children":891},{},[892],{"type":19,"value":893},"条件包括",{"type":13,"tag":87,"props":895,"children":896},{},[897,902,907,912,917,922],{"type":13,"tag":91,"props":898,"children":899},{},[900],{"type":19,"value":901},"%ifarch",{"type":13,"tag":91,"props":903,"children":904},{},[905],{"type":19,"value":906},"%ifnarch",{"type":13,"tag":91,"props":908,"children":909},{},[910],{"type":19,"value":911},"%ifos",{"type":13,"tag":91,"props":913,"children":914},{},[915],{"type":19,"value":916},"%ifnos",{"type":13,"tag":91,"props":918,"children":919},{},[920],{"type":19,"value":921},"%else",{"type":13,"tag":91,"props":923,"children":924},{},[925],{"type":19,"value":926},"%endif",{"type":13,"tag":21,"props":928,"children":929},{"id":5},[930],{"type":19,"value":5},{"type":13,"tag":27,"props":932,"children":933},{},[934],{"type":19,"value":935},"根据上面的一些知识点 初步整理的engine的spec文件情况如下图",{"type":13,"tag":27,"props":937,"children":938},{},[939],{"type":13,"tag":940,"props":941,"children":943},"img",{"alt":16,"src":942},"https://raw.githubusercontent.com/ShaneDean/file/a66e4024f1769b5dc16dde24d04dc443fdd768d6/blog/ovirt_engine_env/ovirt-engine-spec.png",[],{"title":7,"searchDepth":945,"depth":945,"links":946},2,[947,948,949,957],{"id":23,"depth":945,"text":23},{"id":68,"depth":945,"text":68},{"id":73,"depth":945,"text":73,"children":950},[951,953,954,955,956],{"id":149,"depth":952,"text":152},3,{"id":278,"depth":952,"text":281},{"id":332,"depth":952,"text":335},{"id":708,"depth":952,"text":711},{"id":885,"depth":952,"text":888},{"id":5,"depth":945,"text":5},"markdown","content:blog:ovirt:engine:spec.md","content","blog/ovirt/engine/spec.md","md",1718158598651]